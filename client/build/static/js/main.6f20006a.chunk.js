(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{102:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),i=(a(102),a(87)),l=a(191),s=a(192),m=a(190),u=a(195),f=a(185),d=a(196),p=a(35),h=a(27),v=a(188),g=a(88).io.connect("http://localhost:3001"),b=Object(f.a)((function(e){return Object(d.a)({root:{marginRight:"30px"},msg:{color:"white"}})}));function E(){var e=b(),t=Object(n.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){g.on("broadcast",(function(e){c(e)}))}),[]),o.a.createElement(v.a,{maxWidth:"xs",className:e.root},o.a.createElement("div",{className:e.msg},o.a.createElement(m.a,{component:"p"},r)))}var k=Object(f.a)((function(e){return Object(d.a)({root:{width:"100%",marginBottom:0},title:Object(i.a)({flexGrow:1,color:"#fff",display:"none"},e.breakpoints.up("sm"),{display:"block"}),links:{textDecoration:"none",color:"#fff"},offset:e.mixins.toolbar})}));function x(){var e=k();return o.a.createElement("header",{className:e.root},o.a.createElement(l.a,{position:"fixed"},o.a.createElement(s.a,null,o.a.createElement(p.b,{to:"/",className:e.links}," ",o.a.createElement(m.a,{variant:"h6",className:e.title},"Google Books")),o.a.createElement(E,null),o.a.createElement(p.b,{to:"/"},o.a.createElement(u.a,{className:e.links},"Search")),o.a.createElement(p.b,{to:"/saved"},o.a.createElement(u.a,{className:e.links},"Saved Books")))),o.a.createElement("div",{className:e.offset}))}var w=a(89),j=a.n(w),N=Object(f.a)((function(e){return Object(d.a)({hero:{height:400,backgroundImage:"url(".concat(j.a,")"),backgroundSize:"cover"},title:{paddingTop:50,color:"#FFF",textAlign:"right",textShadow:"2px 2px #000"}})}));function B(){var e=N();return o.a.createElement("section",{className:e.hero},o.a.createElement(v.a,null,o.a.createElement("div",{className:e.title},o.a.createElement(m.a,{variant:"h2",component:"h1"},"Google Books Search"),o.a.createElement(m.a,{component:"h2",variant:"h5"},"Search for and Save Books of Interest"))))}var O=a(194),I=a(193),S=Object(f.a)((function(e){return Object(d.a)({root:{margin:"40px 0 20px 0"},input:{width:"100%"},form:{margin:"10px, 0, 10px, 0"},buttons:{margin:"10px"}})}));function y(e){var t=S();return o.a.createElement(v.a,{className:t.root},o.a.createElement("form",{className:t.form,onSubmit:e.handleSubmit},o.a.createElement(I.a,{container:!0,spacing:2},o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Search Books")),o.a.createElement(I.a,{item:!0,xs:12,sm:10},o.a.createElement(O.a,{className:t.input,id:"standard-search",label:"search",type:"search",name:"search",variant:"outlined",onChange:e.handleInputChange})),o.a.createElement(I.a,{item:!0,xs:12,sm:2},o.a.createElement(u.a,{className:t.buttons,variant:"contained",color:"secondary",type:"submit"},"Search")))))}var C=Object(f.a)((function(e){return Object(d.a)({root:{border:"1px solid #cfe1f7",marginBottom:"20px"},book:{padding:"40px 0 40px 0"},buttons:{margin:"10px"}})}));function F(e){var t=C(),a=e.bookInfo,n=a._id,r=a.title,c=a.authors,i=a.description,l=a.image,s=a.link;return o.a.createElement(v.a,{className:t.root},o.a.createElement(I.a,{className:t.book,container:!0,spacing:2},o.a.createElement(I.a,{item:!0,xs:12},o.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},r),o.a.createElement(m.a,{variant:"body2",color:"textPrimary",component:"p",paragraph:!0},c&&c.join(", "))),o.a.createElement(I.a,{item:!0,xs:12,sm:3},o.a.createElement("img",{src:l,alt:r})),o.a.createElement(I.a,{item:!0,xs:12,sm:9},o.a.createElement(m.a,{variant:"body2",color:"textSecondary",component:"p",paragraph:!0},i),o.a.createElement(u.a,{className:t.buttons,href:s,target:"_blank",variant:"contained",color:"primary"},"View"),"search"===e.page?o.a.createElement(u.a,{className:t.buttons,variant:"contained",color:"default",onClick:function(){return e.saveBook(e.bookInfo)}},"Save"):o.a.createElement(u.a,{className:t.buttons,variant:"contained",color:"secondary",onClick:function(){return e.deleteBook(n)}},"Delete"))))}function L(e){var t=e.bookResults,a=e.saveBook,n=e.deleteBook,r=e.page;return o.a.createElement(v.a,null,t.map((function(e){return o.a.createElement(F,{key:e.id||e._id,bookInfo:e,page:r,saveBook:a,deleteBook:n})})))}var R=a(37),W=a.n(R),A=function(e){return W.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},D=function(){return W.a.get("/api/books")},G=function(e){return W.a.delete("/api/books/"+e)},_=function(e){return W.a.post("/api/books",e)};function J(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(h.a)(c,2),l=i[0],s=i[1];return o.a.createElement("section",null,o.a.createElement(v.a,null,o.a.createElement(y,{handleInputChange:function(e){s(e.target.value)},handleSubmit:function(e){e.preventDefault(),l.split(" ").join("+").trim(),A(l).then((function(e){e.data.totalItems>0?r(e.data.items.map((function(e){var t=e.id?e.id+e.etag:"",a=e.volumeInfo.title?e.volumeInfo.title:"",n=e.volumeInfo.authors?e.volumeInfo.authors:[],o=e.volumeInfo.description?e.volumeInfo.description:"",r=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"",c=e.volumeInfo.infoLink?e.volumeInfo.infoLink:"";return{id:t,title:a,authors:n,description:o,image:r,link:c}}))):r(["No Books Found."])})).catch((function(e){return console.log(e)}))}}),"No Books Found."===a[0]?o.a.createElement(m.a,null,"No Books Found."):o.a.createElement(L,{bookResults:a,saveBook:function(e){_(e).then((function(e){g.emit("saveMsg","".concat(e.data.title," has been saved!"))})).catch((function(e){return console.log(e)}))},page:"search"})))}var q=Object(f.a)((function(e){return Object(d.a)({root:{margin:"20px 0 20px 0"},title:{margin:"40px 20px 40px 20px"},buttons:{margin:"10px"}})}));function z(){var e=q(),t=Object(n.useState)([]),a=Object(h.a)(t,2),r=a[0],c=a[1];function i(){D().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){i()}),[]),o.a.createElement("section",null,o.a.createElement(v.a,{className:e.root},o.a.createElement(m.a,{className:e.title,gutterBottom:!0,variant:"h5",component:"h2"},"Saved Books"),o.a.createElement(L,{bookResults:r,deleteBook:function(e){G(e).then((function(e){return i()})).catch((function(e){return console.log(e)}))},page:"saved"})))}var M=a(10);var P=function(){return o.a.createElement(p.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(x,null),o.a.createElement(B,null),o.a.createElement("main",null,o.a.createElement(M.c,null,o.a.createElement(M.a,{exact:!0,path:"/"},o.a.createElement(J,null)),o.a.createElement(M.a,{exact:!0,path:"/saved"},o.a.createElement(z,null))))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(P,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");T?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):U(e)}))}}()},89:function(e,t,a){e.exports=a.p+"static/media/books-bg.2e6f16af.jpg"},97:function(e,t,a){e.exports=a(153)}},[[97,1,2]]]);
//# sourceMappingURL=main.6f20006a.chunk.js.map