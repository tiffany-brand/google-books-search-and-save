(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{102:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),i=(a(102),a(87)),l=a(191),s=a(192),m=a(190),u=a(195),f=a(185),p=a(196),d=a(43),h=a(27),g=a(188),v=a(88).io.connect("https://gb-search-n-save.herokuapp.com/"),b=Object(f.a)((function(e){return Object(p.a)({root:{marginRight:"30px"},msg:{color:"white"}})}));function E(){var e=b(),t=Object(n.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){v.on("broadcast",(function(e){c(e)}))}),[]),o.a.createElement(g.a,{maxWidth:"xs",className:e.root},o.a.createElement("div",{className:e.msg},o.a.createElement(m.a,{component:"p"},r)))}var k=Object(f.a)((function(e){return Object(p.a)({root:{width:"100%",marginBottom:0},title:Object(i.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),links:{color:"#fff"},offset:e.mixins.toolbar})}));function x(){var e=k();return o.a.createElement("header",{className:e.root},o.a.createElement(l.a,{position:"fixed"},o.a.createElement(s.a,null,o.a.createElement(m.a,{variant:"h6",className:e.title},"Google Books"),o.a.createElement(E,null),o.a.createElement(d.b,{to:"/"},o.a.createElement(u.a,{className:e.links},"Search")),o.a.createElement(d.b,{to:"/saved"},o.a.createElement(u.a,{className:e.links},"Saved Books")))),o.a.createElement("div",{className:e.offset}))}var w=a(89),j=a.n(w),O=Object(f.a)((function(e){return Object(p.a)({hero:{height:400,backgroundImage:"url(".concat(j.a,")"),backgroundSize:"cover"},title:{paddingTop:50,color:"#FFF",textAlign:"right",textShadow:"2px 2px #000"}})}));function N(){var e=O();return o.a.createElement("section",{className:e.hero},o.a.createElement(g.a,null,o.a.createElement("div",{className:e.title},o.a.createElement(m.a,{variant:"h2",component:"h1"},"Google Books Search"),o.a.createElement(m.a,{component:"h2",variant:"h5"},"Search for and Save Books of Interest"))))}var B=a(194),S=a(193),y=Object(f.a)((function(e){return Object(p.a)({root:{margin:"40px 0 20px 0"},input:{width:"100%"},form:{margin:"10px, 0, 10px, 0"},buttons:{margin:"10px"}})}));function I(e){var t=y();return o.a.createElement(g.a,{className:t.root},o.a.createElement("form",{className:t.form,onSubmit:e.handleSubmit},o.a.createElement(S.a,{container:!0,spacing:2},o.a.createElement(S.a,{item:!0,xs:12},o.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Search Books")),o.a.createElement(S.a,{item:!0,xs:12,sm:10},o.a.createElement(B.a,{className:t.input,id:"standard-search",label:"search",type:"search",name:"search",variant:"outlined",onChange:e.handleInputChange})),o.a.createElement(S.a,{item:!0,xs:12,sm:2},o.a.createElement(u.a,{className:t.buttons,variant:"contained",color:"secondary",type:"submit"},"Search")))))}var C=Object(f.a)((function(e){return Object(p.a)({root:{border:"1px solid #cfe1f7",marginBottom:"20px"},book:{padding:"40px 0 40px 0"},buttons:{margin:"10px"}})}));function R(e){var t=C(),a=e.bookInfo,n=(a.id,a._id),r=a.title,c=a.authors,i=a.description,l=a.image,s=a.link;return o.a.createElement(g.a,{className:t.root},o.a.createElement(S.a,{className:t.book,container:!0,spacing:2},o.a.createElement(S.a,{item:!0,xs:12},o.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},r),o.a.createElement(m.a,{variant:"body2",color:"textPrimary",component:"p",paragraph:!0},c&&c.join(", "))),o.a.createElement(S.a,{item:!0,xs:12,sm:3},o.a.createElement("img",{src:l})),o.a.createElement(S.a,{item:!0,xs:12,sm:9},o.a.createElement(m.a,{variant:"body2",color:"textSecondary",component:"p",paragraph:!0},i),o.a.createElement(u.a,{className:t.buttons,href:s,target:"_blank",variant:"contained",color:"primary"},"View"),"search"===e.page?o.a.createElement(u.a,{className:t.buttons,variant:"contained",color:"default",onClick:function(){return e.saveBook(e.bookInfo)}},"Save"):o.a.createElement(u.a,{className:t.buttons,variant:"contained",color:"secondary",onClick:function(){return e.deleteBook(n)}},"Delete"))))}function W(e){var t=e.bookResults,a=e.saveBook,n=e.deleteBook,r=e.page;return o.a.createElement(g.a,null,t.map((function(e){return o.a.createElement(R,{key:e.id||e._id,bookInfo:e,page:r,saveBook:a,deleteBook:n})})))}var A=a(35),L=a.n(A),F=function(e){return L.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},G=function(){return L.a.get("/api/books")},_=function(e){return L.a.delete("/api/books/"+e)},D=function(e){return L.a.post("/api/books",e)};function J(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("Apple"),i=Object(h.a)(c,2),l=i[0],s=i[1];return o.a.createElement("section",null,o.a.createElement(g.a,null,o.a.createElement(I,{handleInputChange:function(e){s(e.target.value)},handleSubmit:function(e){e.preventDefault(),l.split(" ").join("+").trim(),F(l).then((function(e){r(e.data.items.map((function(e){return{id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink}})))})).catch((function(e){return console.log(e)}))}}),o.a.createElement(W,{bookResults:a,saveBook:function(e){D(e).then((function(e){v.emit("saveMsg","".concat(e.data.title," has been saved!"))})).catch((function(e){return console.log(e)}))},page:"search"})))}var q=Object(f.a)((function(e){return Object(p.a)({root:{margin:"20px 0 20px 0"},title:{margin:"40px 20px 40px 20px"},buttons:{margin:"10px"}})}));function z(){var e=q(),t=Object(n.useState)([]),a=Object(h.a)(t,2),r=a[0],c=a[1];function i(){G().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){i()}),[]),o.a.createElement("section",null,o.a.createElement(g.a,{className:e.root},o.a.createElement(m.a,{className:e.title,gutterBottom:!0,variant:"h5",component:"h2"},"Saved Books"),o.a.createElement(W,{bookResults:r,deleteBook:function(e){_(e).then((function(e){return i()})).catch((function(e){return console.log(e)}))},page:"saved"})))}var M=a(10);var P=function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(x,null),o.a.createElement(N,null),o.a.createElement(M.c,null,o.a.createElement(M.a,{exact:!0,path:"/"},o.a.createElement(J,null)),o.a.createElement(M.a,{exact:!0,path:"/saved"},o.a.createElement(z,null)))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(P,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");T?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):U(e)}))}}()},89:function(e,t,a){e.exports=a.p+"static/media/books-bg.2e6f16af.jpg"},97:function(e,t,a){e.exports=a(153)}},[[97,1,2]]]);
//# sourceMappingURL=main.c0d22b92.chunk.js.map